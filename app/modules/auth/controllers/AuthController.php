<?php/** * User: dirg * Date: 07/06/2015 * Time: 0:29 */namespace App\Modules\Auth\Controllers;use View, Input, Session, Redirect, Sentry;class AuthController extends \Controller{    public function login()    {        return View::make('auth::login');    }    public function doLogin()    {        try        {            $credentials = array(                'email'    => Input::has('email') ? Input::get('email') : null,                'password' => Input::has('password') ? Input::get('password') : null,            );            // Log the user in            $user = Sentry::authenticate($credentials, Input::has('remember_me') and Input::get('remember_me') == 'checked');            return Redirect::route('dashboard');        }        catch(\Cartalyst\Sentry\Users\LoginRequiredException $e){            Session::flash('message', $e->getMessage());            return Redirect::route('authController_login');        }        catch(\Cartalyst\Sentry\Users\UserNotFoundException $e){            Session::flash('message', $e->getMessage());            return Redirect::route('authController_login');        }        catch(\Cartalyst\Sentry\Users\PasswordRequiredException $e){            Session::flash('message', $e->getMessage());            return Redirect::route('authController_login');        }    }    public function logout()    {        Sentry::logout();        return Redirect::route('authController_login');    }}